{"ast":null,"code":"import _asyncToGenerator from \"D:/VSCode/CorruptedDominion/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { TemplateRef } from '@angular/core';\nimport { Campanha, Mapa } from 'src/app/models/campanha';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/inv.service\";\nimport * as i2 from \"ngx-bootstrap/modal\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"ngx-bootstrap-icons\";\nfunction MapasComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h2\");\n    i0.ɵɵtext(2, \"Capital Yevine\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 4)(4, \"div\", 5);\n    i0.ɵɵelement(5, \"img\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 7)(7, \"b\");\n    i0.ɵɵtext(8, \"Pontos:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelementStart(10, \"div\", 8);\n    i0.ɵɵelement(11, \"i-bs\", 9);\n    i0.ɵɵelementStart(12, \"span\");\n    i0.ɵɵtext(13, \"Guilda dos aventureiros\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"br\")(15, \"i-bs\", 10);\n    i0.ɵɵelementStart(16, \"span\");\n    i0.ɵɵtext(17, \"Igreja de Lathander\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"br\")(19, \"i-bs\", 11);\n    i0.ɵɵelementStart(20, \"a\", 12);\n    i0.ɵɵtext(21, \"Pavilh\\u00E3o da forja m\\u00E1gica\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"br\")(23, \"i-bs\", 13);\n    i0.ɵɵelementStart(24, \"a\", 14);\n    i0.ɵɵtext(25, \"Mans\\u00E3o do Ibex \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(26, \"br\")(27, \"i-bs\", 15);\n    i0.ɵɵelementStart(28, \"span\");\n    i0.ɵɵtext(29, \"Posto de guarda\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(30, \"br\")(31, \"i-bs\", 16);\n    i0.ɵɵelementStart(32, \"span\");\n    i0.ɵɵtext(33, \"Castelo do Duque\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(34, \"br\")(35, \"i-bs\", 17);\n    i0.ɵɵelementStart(36, \"span\");\n    i0.ɵɵtext(37, \"Biblioteca Palavras Celestiais\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(38, \"br\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(39, \"h2\");\n    i0.ɵɵtext(40, \"Ducado Cithin\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"div\");\n    i0.ɵɵelement(42, \"img\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"h2\");\n    i0.ɵɵtext(44, \"Reino Graindi\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"div\");\n    i0.ɵɵelement(46, \"img\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"h2\");\n    i0.ɵɵtext(48, \"Continente\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(49, \"div\");\n    i0.ɵɵelement(50, \"img\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"h2\");\n    i0.ɵɵtext(52, \"Regi\\u00E3o Esverdejante\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"div\");\n    i0.ɵɵelement(54, \"img\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"h2\");\n    i0.ɵɵtext(56, \"Fenda Cheslis\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(57, \"div\");\n    i0.ɵɵelement(58, \"img\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"h2\");\n    i0.ɵɵtext(60, \"Picos dos Grifos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(61, \"div\");\n    i0.ɵɵelement(62, \"img\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(63, \"h2\");\n    i0.ɵɵtext(64, \"Ru\\u00EDnas Drac\\u00F4nicas\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(65, \"div\");\n    i0.ɵɵelement(66, \"img\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(67, \"h2\");\n    i0.ɵɵtext(68, \"Ducado Smotheus\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(69, \"div\");\n    i0.ɵɵelement(70, \"img\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(71, \"h2\");\n    i0.ɵɵtext(72, \"Recanto Incerto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(73, \"div\");\n    i0.ɵɵelement(74, \"img\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction MapasComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h2\");\n    i0.ɵɵtext(2, \"Fey Wild\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵelement(4, \"img\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h2\");\n    i0.ɵɵtext(6, \"Costa de Recife\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\");\n    i0.ɵɵelement(8, \"img\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"h2\");\n    i0.ɵɵtext(10, \"Plano D\\u00E1gua\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\");\n    i0.ɵɵelement(12, \"img\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"h2\");\n    i0.ɵɵtext(14, \"Regi\\u00E3o Selvagem do Norte\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\");\n    i0.ɵɵelement(16, \"img\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"h2\");\n    i0.ɵɵtext(18, \"Cidadela Escaldante\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\");\n    i0.ɵɵelement(20, \"img\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"h2\");\n    i0.ɵɵtext(22, \"Reino Absoluto Sol Radiante\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\");\n    i0.ɵɵelement(24, \"img\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"h2\");\n    i0.ɵɵtext(26, \"Plano do fogo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\");\n    i0.ɵɵelement(28, \"img\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"h2\");\n    i0.ɵɵtext(30, \"Plano da terra\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\");\n    i0.ɵɵelement(32, \"img\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"h2\");\n    i0.ɵɵtext(34, \"Tumba dos deuses\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"div\");\n    i0.ɵɵelement(36, \"img\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction MapasComponent_ng_container_4_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵelement(4, \"img\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.info.titulo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r5.info.urlImagem, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction MapasComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, MapasComponent_ng_container_4_ng_container_1_Template, 5, 2, \"ng-container\", 36);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.info.mapas);\n  }\n}\nfunction MapasComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"label\", 38);\n    i0.ɵɵtext(1, \"Senha:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"input\", 39);\n    i0.ɵɵlistener(\"ngModelChange\", function MapasComponent_ng_template_5_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.senha = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function MapasComponent_ng_template_5_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.editar());\n    });\n    i0.ɵɵtext(4, \"Confirmar\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.senha);\n  }\n}\nexport let MapasComponent = /*#__PURE__*/(() => {\n  class MapasComponent {\n    constructor(service, modalService) {\n      this.service = service;\n      this.modalService = modalService;\n      this.campanha = \"HW\";\n      this.info = new Campanha();\n      this.isEdit = false;\n      this.isAdmin = false;\n      this.senha = \"\";\n    }\n    ngOnInit() {\n      if ('campanha' in sessionStorage) {\n        this.campanha = sessionStorage.getItem('campanha');\n      }\n      if (this.campanha == \"HW\") {\n        this.getCampanha();\n      }\n      if (\"isAdmin\" in sessionStorage) {\n        this.isAdmin = sessionStorage.getItem(\"isAdmin\") == \"sim\";\n      }\n    }\n    alerta(mensagem) {\n      alert(mensagem);\n    }\n    getCampanha() {\n      this.service.getCampanha().subscribe(response => {\n        this.info = response;\n      }, error => {\n        alert(\"Um erro ocorreu enquanto recuperava as informações da campanha, cheque a internet.\");\n      });\n    }\n    openModal(template) {\n      this.modalRef = this.modalService.show(template);\n      //this.modalRef.hide();\n    }\n    decline() {\n      if (this.modalRef != undefined) {\n        this.modalRef.hide();\n      }\n    }\n    addSessao() {\n      if (!this.info.mapas) {\n        this.info.mapas = [];\n      }\n      this.info.mapas.push(new Mapa({\n        \"titulo\": \"Novo mapa\",\n        \"urlImagem\": \"URL da imagem do mapa\"\n      }));\n    }\n    deleteSessao(i) {\n      this.info.lores.splice(i, 1);\n    }\n    editar() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        _this.isEdit = false;\n        let cripto = yield _this.service.hashString(_this.senha);\n        if (_this.service.validate(cripto)) {\n          _this.service.putCampanha(_this.info).subscribe(response => {\n            alert(\"Informações salvas\");\n          }, error => {\n            alert(\"Um erro ocorreu enquanto salvava as informações da campanha, cheque a internet.\");\n          });\n        } else {\n          alert(\"senha incorreta\");\n        }\n      })();\n    }\n    onEdit() {\n      this.isEdit = !this.isEdit;\n    }\n  }\n  MapasComponent.ɵfac = function MapasComponent_Factory(t) {\n    return new (t || MapasComponent)(i0.ɵɵdirectiveInject(i1.InvService), i0.ɵɵdirectiveInject(i2.BsModalService));\n  };\n  MapasComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MapasComponent,\n    selectors: [[\"app-mapas\"]],\n    decls: 7,\n    vars: 3,\n    consts: [[1, \"bloco\"], [1, \"container\"], [4, \"ngIf\"], [\"tplAdmin\", \"\"], [1, \"row\"], [1, \"col-md-8\"], [\"src\", \"../../../assets/imgs/maps/capitalYevine.png\", 1, \"map\", \"col-md-8\"], [1, \"col-md-4\"], [1, \"legenda\"], [\"name\", \"house-fill\", 2, \"color\", \"orange\"], [\"name\", \"house-fill\", 2, \"color\", \"blue\"], [\"name\", \"house-fill\", 2, \"color\", \"yellow\"], [\"routerLink\", \"pavilhao\"], [\"name\", \"house-fill\", 2, \"color\", \"rgb(80, 200, 240)\"], [\"routerLink\", \"ibexcatalog\"], [\"name\", \"house-fill\", 2, \"color\", \"purple\"], [\"name\", \"house-fill\", 2, \"color\", \"red\"], [\"name\", \"house-fill\", 2, \"color\", \"pink\"], [\"src\", \"../../../assets/imgs/maps/ducadoCithin.png\", 1, \"map\"], [\"src\", \"../../../assets/imgs/maps/reinoGraindi.png\", 1, \"map\"], [\"src\", \"../../../assets/imgs/maps/Continente.png\", 1, \"map\"], [\"src\", \"../../../assets/imgs/maps/regEsverdejante.png\", 1, \"map\"], [\"src\", \"../../../assets/imgs/maps/Cheslis.png\", 1, \"map\"], [\"src\", \"../../../assets/imgs/maps/picosDosGrifos.png\", 1, \"map\"], [\"src\", \"../../../assets/imgs/maps/RuinasDraconicas.png\", 1, \"map\"], [\"src\", \"../../../assets/imgs/maps/ducadoSmotheus.png\", 1, \"map\"], [\"src\", \"../../../assets/imgs/maps/recantoIncerto.png\", 1, \"map\"], [\"src\", \"../../../assets/imgs/maps/FeyWild.png\", 1, \"map\"], [\"src\", \"../../../assets/imgs/maps/estrelaDoNorte.png\", 1, \"map\"], [\"src\", \"../../../assets/imgs/maps/planoDagua.png\", 1, \"map\"], [\"src\", \"../../../assets/imgs/maps/RegiaoSelvagemDoNorte.png\", 1, \"map\"], [\"src\", \"../../../assets/imgs/maps/CidadelaEscaldante.png\", 1, \"map\"], [\"src\", \"../../../assets/imgs/maps/ReinoAbsoluto.png\", 1, \"map\"], [\"src\", \"../../../assets/imgs/maps/Mundi.png\", 1, \"map\"], [\"src\", \"../../../assets/imgs/maps/planoTerra.png\", 1, \"map\"], [\"src\", \"../../../assets/imgs/maps/tumbaDosDeuses.png\", 1, \"map\"], [4, \"ngFor\", \"ngForOf\"], [1, \"map\", 3, \"src\"], [\"for\", \"senha\"], [\"name\", \"senha\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-primary\", 3, \"click\"]],\n    template: function MapasComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵtemplate(2, MapasComponent_ng_container_2_Template, 75, 0, \"ng-container\", 2);\n        i0.ɵɵtemplate(3, MapasComponent_ng_container_3_Template, 37, 0, \"ng-container\", 2);\n        i0.ɵɵtemplate(4, MapasComponent_ng_container_4_Template, 2, 1, \"ng-container\", 2);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(5, MapasComponent_ng_template_5_Template, 5, 1, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.campanha == \"CD\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.campanha == \"PR\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.campanha == \"HW\");\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.RouterLinkWithHref, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i6.NgxBootstrapIconsLibComponent],\n    styles: [\".bloco[_ngcontent-%COMP%]{background-color:#000000b3;margin-left:10%;margin-right:10%;margin-top:10px;position:relative;text-align:center;color:#fff}.map[_ngcontent-%COMP%]{width:100%;padding:10px}.legenda[_ngcontent-%COMP%]{text-align:left;color:#fff;text-shadow:0 0 2px rgb(100,98,98);font-size:150%}@media only screen and (max-width: 750px){.bloco[_ngcontent-%COMP%]{margin:10px 0}}\"]\n  });\n  return MapasComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}